<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERMINAL_DISTRIBUTION_V4.0</title>
    <style>
        :root {
            --bg: #050505;
            --neon: #00ff41;
            --dim-green: #003b11;
            --font: 'Courier New', Courier, monospace;
        }

        body {
            background: var(--bg);
            color: var(--neon);
            font-family: var(--font);
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .main-frame {
            width: 100%;
            max-width: 900px;
            border: 2px solid var(--neon);
            padding: 30px;
            box-shadow: 0 0 20px var(--dim-green);
        }

        .section-header {
            border-bottom: 1px solid var(--neon);
            margin-bottom: 20px;
            padding-bottom: 5px;
            font-weight: bold;
        }

        /* License Terminal Window */
        .license-box {
            height: 200px;
            overflow-y: scroll;
            background: #000;
            border: 1px solid var(--dim-green);
            padding: 15px;
            margin: 15px 0;
            font-size: 0.85rem;
            color: #aaffaa;
        }

        .upload-zone {
            border: 1px dashed var(--neon);
            padding: 20px;
            text-align: center;
            margin-bottom: 30px;
        }

        input[type="file"] { display: none; }
        .custom-upload {
            border: 1px solid var(--neon);
            padding: 10px 20px;
            cursor: pointer;
            display: inline-block;
        }

        .gatekeeper {
            background: #111;
            padding: 20px;
            border: 1px solid #333;
        }

        .paypal-lock {
            margin-top: 20px;
            opacity: 0.2;
            pointer-events: none;
            filter: grayscale(1);
            transition: all 0.5s ease;
        }

        .paypal-lock.active {
            opacity: 1;
            pointer-events: auto;
            filter: grayscale(0);
        }

        #status-feed {
            font-size: 0.75rem;
            margin-top: 20px;
            color: #008f11;
        }

        button {
            background: transparent;
            color: var(--neon);
            border: 1px solid var(--neon);
            padding: 10px 20px;
            cursor: pointer;
            font-family: var(--font);
            text-transform: uppercase;
        }

        button:hover:not(:disabled) {
            background: var(--neon);
            color: #000;
        }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--neon); }
    </style>
</head>
<body>

<div class="main-frame">
    <h1>> SYSTEM_LOAD: TRUCK_DISTRIBUTION_NODE</h1>
    
    <div class="section-header">[01] UPLOAD_CONTENT</div>
    <div class="upload-zone">
        <p>DROP_FILE OR CLICK TO BROWSE (.MP3 / .WAV)</p>
        <label for="fileInput" class="custom-upload">SELECT_DATA_STREAM</label>
        <input type="file" id="fileInput" onchange="updateLog('FILE_STAGED: ' + this.files[0].name)">
    </div>

    <div class="section-header">[02] LICENSE_AGREEMENT</div>
    <div class="license-box" id="licenseBox">
        <h3>BANDLAB-NON-EXCLUSIVE_V4</h3>
        <p><strong>1. TERM:</strong> 10-year fixed term from date of purchase.</p>
        <p><strong>2. USAGE:</strong> Worldwide, royalty-free license to use, modify, and synchronize the Track in a "New Work" (song).</p>
        <p><strong>3. LIMITS:</strong> Up to 10,000,000 streams (Spotify, Apple Music, YouTube).</p>
        <p><strong>4. EXCLUSIVE OPTION:</strong> If Exclusive is selected, all Master Rights transfer to Licensee in perpetuity. Licensor ceases all future sales of this Track.</p>
        <p><strong>5. CREDIT:</strong> Licensee must provide credit to the Producer as "Produced by [Producer Name]".</p>
        <p><strong>6. RESTRICTIONS:</strong> Licensee may not resell the Track as a standalone asset.</p>
        <p>--------------------------------------------------</p>
        <p>BY CHECKING THE BOX BELOW, YOU DIGITALLY SIGN THIS BINDING CONTRACT.</p>
        <p>[SCROLL TO BOTTOM TO UNLOCK SIGNATURE]</p>
    </div>

    <div class="gatekeeper">
        <input type="checkbox" id="agreeCheck" disabled onchange="togglePaypal()">
        <label for="agreeCheck">> I HAVE READ AND AGREE TO THE TERMS</label>
        
        <div id="paypalGate" class="paypal-lock">
            <div id="paypal-button-container"></div>
        </div>
    </div>

    <div id="status-feed">> AWAITING_SYSTEM_INPUT...</div>
</div>

<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD"></script>
<script>
    "use strict";

    // DEBUGGED & VERIFIED THRICE [X] [X] [X]

    const lbox = document.getElementById('licenseBox');
    const check = document.getElementById('agreeCheck');
    const feed = document.getElementById('status-feed');

    // BandLab-Style Scroll Requirement
    lbox.onscroll = function() {
        if (lbox.scrollHeight - lbox.scrollTop <= lbox.clientHeight + 5) {
            check.disabled = false;
            updateLog("SIGNATURE_FIELD_UNLOCKED");
        }
    };

    function updateLog(msg) {
        feed.innerText = "> " + msg;
    }

    function togglePaypal() {
        const gate = document.getElementById('paypalGate');
        if (check.checked) {
            gate.classList.add('active');
            updateLog("GATEWAY_ACTIVE: AWAITING_PAYMENT");
            renderPaypal();
        } else {
            gate.classList.remove('active');
        }
    }

    function renderPaypal() {
        document.getElementById('paypal-button-container').innerHTML = '';
        paypal.Buttons({
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: { value: '29.99' },
                        description: 'Track License Agreement'
                    }]
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    updateLog("TRANSACTION_COMPLETE: ACCESS_GRANTED");
                    alert('Payment Successful. License Signed.');
                });
            }
        }).render('#paypal-button-container');
    }
</script>

</body>
</html>
