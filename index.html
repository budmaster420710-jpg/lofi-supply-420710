<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SECURE_TRACK_INTERFACE</title>
    <style>
        :root {
            --neon: #00ff41;
            --bg: #0a0a0a;
            --font: 'Courier New', Courier, monospace;
        }

        body {
            background-color: var(--bg);
            color: var(--neon);
            font-family: var(--font);
            padding: 20px;
            line-height: 1.5;
        }

        .terminal-container {
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid var(--neon);
            padding: 25px;
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.2);
        }

        header {
            border-bottom: 1px solid var(--neon);
            margin-bottom: 20px;
            padding-bottom: 10px;
        }

        /* BandLab-Style Scroll Box */
        #license-box {
            height: 300px;
            overflow-y: scroll;
            background: #000;
            padding: 20px;
            border: 1px solid #222;
            color: #ccc;
            margin-bottom: 20px;
        }

        #license-box h3 { color: var(--neon); }

        .agreement-row {
            display: flex;
            align-items: center;
            background: #111;
            padding: 15px;
            border: 1px solid #333;
            margin-bottom: 20px;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            cursor: not-allowed;
        }

        #payment-section {
            display: none; /* Hidden until scroll-agreement is met */
            text-align: center;
            border-top: 1px dashed var(--neon);
            padding-top: 20px;
        }

        .btn-upload {
            background: transparent;
            color: var(--neon);
            border: 1px solid var(--neon);
            padding: 10px 20px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--neon); }
    </style>
</head>
<body>

<div class="terminal-container">
    <header>
        <h1>> TRACK_AUTHORIZATION_TERMINAL</h1>
        <p>STATUS: READY_FOR_SIGNATURE</p>
    </header>

    <div id="license-box">
        <h3>EXCLUSIVE TRACK LICENSE AGREEMENT</h3>
        <p><strong>1. THE ASSET:</strong> This agreement pertains to the audio recording (the "Track") selected for purchase.</p>
        <p><strong>2. EXCLUSIVE RIGHTS:</strong> Upon successful transaction, the Licensor transfers all exclusive rights to the Licensee. The Licensor shall no longer offer this Track for sale or license to any other party.</p>
        <p><strong>3. MASTER OWNERSHIP:</strong> Licensee is granted full ownership of the Master Recording for use in any commercial or personal project worldwide, in perpetuity.</p>
        <p><strong>4. WARRANTIES:</strong> Licensor warrants that the Track is original and does not infringe upon any third-party intellectual property rights.</p>
        <p><strong>5. TERMINATION:</strong> This transfer of rights is contingent upon the successful completion of payment via the encrypted gateway below.</p>
        <p>--------------------------------------------------</p>
        <p><em>(SCROLL TO BOTTOM TO ENABLE DIGITAL SIGNATURE)</em></p>
        <p>Verification Token: AUTH-88291-X</p>
        <p>[END OF DOCUMENT]</p>
    </div>

    <div class="agreement-row">
        <input type="checkbox" id="agreeCheckbox" disabled onchange="toggleGate()">
        <label for="agreeCheckbox" id="labelMsg">SCROLL TO READ AGREEMENT</label>
    </div>

    <div id="payment-section">
        <h2>SECURE_PAYMENT_GATEWAY</h2>
        <div id="paypal-button-container"></div>
    </div>
</div>

<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD"></script>
<script>
    "use strict";

    const scrollBox = document.getElementById('license-box');
    const checkbox = document.getElementById('agreeCheckbox');
    const label = document.getElementById('labelMsg');
    const gate = document.getElementById('payment-section');

    // Restoration of the BandLab "Scroll-to-Unlock" Protocol
    scrollBox.onscroll = function() {
        if (scrollBox.scrollHeight - scrollBox.scrollTop <= scrollBox.clientHeight + 2) {
            checkbox.disabled = false;
            checkbox.style.cursor = "pointer";
            label.innerText = "I AGREE TO THE EXCLUSIVE TRACK TERMS";
            label.style.color = "#00ff41";
        }
    };

    function toggleGate() {
        if (checkbox.checked) {
            gate.style.display = "block";
            renderPaypal();
        } else {
            gate.style.display = "none";
        }
    }

    function renderPaypal() {
        document.getElementById('paypal-button-container').innerHTML = '';
        paypal.Buttons({
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: { value: '499.00' },
                        description: 'Exclusive Track Master License'
                    }]
                });
            },
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    alert('CONTRACT SIGNED. TRANSACTION COMPLETE.');
                });
            }
        }).render('#paypal-button-container');
    }
</script>

</body>
</html>
